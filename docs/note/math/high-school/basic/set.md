# 集合

在国内数学教育体系中，**集合** 是继 **数** 之后，第一个具备 **运算** 和 **关系** 的抽象数学结构。

换句话说，我们将首次接触全新的数学对象——集合。

本章涉及的概念较多，但都比较基础，在其他板块会经常用到。

## 参考资料

- [集合 (数学) - 维基百科](<https://zh.wikipedia.org/zh-cn/集合_(数学)>)
- [数 - 维基百科](https://zh.wikipedia.org/zh-cn/数)

## 概念

### 定义

> 《人教版高中数学 · 必修一》：一般地，我们把研究对象统称为 **元素**（element），把一些元素组成的总体叫做 **集合**（set），简称为 **集**。

### 理解

什么是集合？这是一个可以在网上提问并获得许多优质答案的问题。

我们无需深入研究，只需知道 **集合** 是 **具有某种特定性质** 的 **事物的总体**。

集合中的每个事物称为 **元素**。

这些都可以视为集合，集合的元素可以是各种不同的类型：

|        集合        | 元素类型 |          集合          | 元素类型 |
| :----------------: | :------: | :--------------------: | :------: |
| 小于 $10$ 的正偶数 |    数    |     喜欢看书的学生     |    人    |
|   所有等腰三角形   |   图形   | 你人生中喝过的饮料种类 |   物品   |
| 一个集合所有的子集 |   集合   |   你在学校做过的事情   |   事件   |

一个集合可以包含 **任意数量** 的元素，可以是 $0$ 个，也可以是无穷多个。

### 记号

**集合** 通常用 $A,B,C$ 等 **大写字母** 表示，而集合中的 **元素** 通常用 $a,b,c$ 等 **小写字母** 表示。

### 数集

在数学中，通常研究的元素是 **数**，这样的集合称为 **数集**。

小学和初中阶段，我们学习了许多类型的数，这些相同类型的数可以组成一些 **数集**：

|      数集       |     记号     |                 示例                 |         描述（所有……的集合）          |
| :-------------: | :----------: | :----------------------------------: | :-----------------------------------: |
|     自然数      | $\mathbb{N}$ |         $0,1,2,3,5,10^{100}$         |  自然数（包含 **零** 和 **正整数**）  |
|      整数       | $\mathbb{Z}$ |           $-3,-1,0,2,6,9$            | 整数（包含 **自然数** 和 **负整数**） |
|     有理数      | $\mathbb{Q}$ | $-2,0,9.16,\frac{1}{2},-\frac{3}{7}$ |  有理数（可以表示为 **分数** 的数）   |
|      实数       | $\mathbb{R}$ |  $0,-\frac{1}{9},\sqrt{2},7,\pi,e$   | 实数（包含 **有理数** 和 **无理数**） |
| [复数](complex) | $\mathbb{C}$ |   $-1,0,3,i,\frac{1}{2}-\sqrt{2}i$   |   复数（包含**实数** 和 **虚数**）    |

$$
\mathbb{N}\subseteq\mathbb{Z}\subseteq\mathbb{Q}\subseteq\mathbb{R}\subseteq\mathbb{C}
$$

<Assets file="NumberSetinC.svg" />

这些数集符号还可以添加 **角标**，通过 $+$ 和 $-$ 表示正负。

例如，$\mathbb{R}^+$ 表示 **正实数**，$\mathbb{R}^-$ 表示 **负实数**，$\mathbb{Z}^-$ 表示 **负整数**。

而 **正整数** 通常表示为 $\mathbb{N}^+$ 或 $\mathbb{N}^*$，也可以写作 $\mathbb{N}_1$、$\mathbb{N}_{>0}$、$\mathbb{Z}^+$ 等。

:::tip

这些约定俗成的特殊数集，在电脑排版时通常使用黑板粗体（BB，Blackboard Bold）。

这种表示法最早起源于数学家在黑板上书写时，为了区分普通字母，会在字母上多加一笔。

:::

## 性质

普通的集合有 $3$ 个常见性质：**确定性**、**互异性** 和 **无序性**。

### 确定性

确定性：集合中的所有元素都 **是明确的**。

每个元素要么属于这个集合，要么不属于这个集合。

不允许出现“高个子的人”、“比较小的数”这种的模糊情况。

### 互异性

互异性：集合中任意两个元素 **互不相同**。

因为集合代表事物的总体，而相同的元素即为同一事物。

### 无序性

无序性：集合中的元素 **没有顺序**。

因为集合表示事物的总体，元素的顺序变化不会影响集合的性质。

## 表示

### 属于

如果 $a$ 是集合 $A$ 的元素，则称 $a$ **属于** 集合 $A$，记为：

$$
a\in A
$$

同样地，如果 $a$ 不是集合 $A$ 的元素，则称 $a$ **不属于** 集合 $A$，记为：

$$
a\notin A
$$

集合一般由花括号 $\set{\dots}$ 包裹。

除了用 **自然语言** 描述集合，还有 $2$ 种常见的表示方法：**列举法** 和 **描述法**。

### 列举法

列举法：列举集合中 **所有或部分元素**，用逗号（$,$）分隔。

:::example

- “小于 $10$ 的正偶数”的集合可以表示为 $\set{2,4,6,8}$。
- 自然数集可以表示为 $\set{0,1,2,3,\dots}$。
- “地球上的四大洋”的集合可以表示为 $\set{\text{太平洋},\text{大西洋},\text{印度洋},\text{北冰洋}}$。

:::

当集合中的元素数量很多或无穷多时，列举法并不方便准确，因此需要更通用的方法。

### 描述法

描述法：列举集合中 **元素满足的条件**，用竖线（$|$）、冒号（$:$）或分号（$;$）分隔。

:::example

- “大于等于 $5$ 的实数”的集合可以表示为 $\set{\underbrace{x\in\mathbb{R}}_{\text{属于实数}}|\underbrace{x\ge 5}_{\text{大于等于} 5}}$。
- “所有奇数”的集合可以表示为 $\set{\underbrace{x\in\mathbb{Z}}_{\text{属于整数}}|\underbrace{x=2k+1,k\in\mathbb{Z}}_{\text{是奇数}}}$。
- “你人生中喝过的饮料种类”的集合可以表示为 $\set{\underbrace{x\in\text{饮料种类}}_{\text{属于饮料种类}}|\underbrace{\text{你喝过 x}}_{\text{是你喝过的}}}$。

:::

### 省略

在不产生歧义的情况下，我们可以省略一些常见的条件。

例如，我们通常默认一个数为实数：

$$
\set{x\in\mathbb{R}|x\ge 5}\iff\set{x|x\ge 5}
$$

## 关系

### 相等

构成两个集合 $A,B$ 的元素是一样的，我们就称这两个集合是 **相等** 的，记为：

$$
A=B
$$

### 子集 & 超集

如果集合 $A$ 中任意一个元素都是集合 $B$ 中的元素，即 $A$ **包含于** $B$，则称 $A$ 是 $B$ 的 **子集**，记为：

$$
A\subseteq B
$$

也可以说 $B$ **包含** $A$，则称 $B$ 是 $A$ 的 **超集**，记为：

$$
B\supseteq A
$$

:::tip

符号 $\supseteq$ 原本表示“超集符号”，但在高中阶段，很少涉及超集的概念。

因此，可以将其视为“子集符号”的反向表示。

:::

### 推论

任何集合 $A$ 都同时是它自己的子集和超集，因为它的每个元素都属于它自己，符合定义：

$$
A\subseteq A,A\supseteq A
$$

如果 $B$ 包含 $A$，且 $A$ 包含 $B$，即相互包含，则 $A$ 和 $B$ 相等：

$$
A\subseteq B,A\supseteq B\iff A=B
$$

### 真子集 & 真超集

有时我们研究 $B$ 的子集 $A$ 时，不希望包含集合本身，即排除 $A=B$ 的情况，因此定义了 **真子集**，记为：

$$
A\subsetneqq B
$$

同理，还可以定义 **真超集**，记为：

$$
B\subsetneqq A
$$

真子集符号 $\subsetneqq$ 和真超集符号 $\supsetneqq$ 也常写作 $\subsetneq$ 和 $\supsetneq$。

如果集合 $A$ 是集合 $B$ 的真子集，则 $A$ 一定是 $B$ 的子集，超集同理。

:::tip

集合之间的关系可以类比为数之间的关系：

- 子集（$\subseteq$）对应小于等于（$\le$）
- 超集（$\supseteq$）对应大于等于（$\ge$）
- 真子集（$\subsetneqq$）对应小于（$<$）
- 真超集（$\supsetneqq$）对应大于（$>$）

:::

### 空集 & 全集

如果集合 $A$ 不含任何元素，则称为 **空集**，记为：

$$
A=\varnothing
$$

空集是任何集合的子集，因为空集内的每个元素（即没有元素）都属于任何集合，符合定义。

如果一个集合不是空集，则称为 **非空集**。

如果一个集合含有所研究问题中涉及的所有元素，则称为 **全集**，通常记为 $U$。

## 运算

两个集合之间可以进行一些运算。

### 并集

包含集合 $A$ 和 $B$ 中所有元素的集合 $C$ 定义为 **并集**，记为：

$$
A\cup B=C=\set{x|x\in A\text{或}x\in B}
$$

<Assets file="Venn0111.svg" />

:::tip

并集的英文是 "Union Set"，因此并集符号 $\cup$ 类似于字母 U；而另一个 $\cap$ 就是交集符号。

:::

### 交集

集合 $A$ 和 $B$ 中共有元素的集合 $C$ 定义为 **交集**，记为：

$$
A\cap B=C=\set{x|x\in A\text{且}x\in B}
$$

<Assets file="Venn0001.svg" />

### 补集

对于全集 $U$，除集合 $A$ 以外的其他元素的集合 $B$ 定义为 **补集**，记为：

$$
\complement_U A=B=\set{x|x\notin A}
$$

<Assets file="Venn10.svg" />

:::tip

补集符号 $\complement_U A$ 也常写作 $A^{\complement}$、$\overline{A}$ 或 $U \setminus A$。

在国内高中教材中，补集通常使用 $\complement_U A$，因为这种写法比较明确。

相比之下，$A^{\complement}$ 和 $\overline{A}$ 没有 **标明全集**，容易产生歧义。

在数学中，更常用的写法是 $U\setminus A$，它表示 **差集**，即属于 $U$ 但不属于 $A$ 的元素。

:::

:::example

已知三个集合：$A=\set{1,2,3}$，$B=\set{3,4,5}$，$U=\set{1,2,3,4,5,6}$。

则 $A\cup B=\set{1,2,3,4,5}$，$A\cap B=\set{3}$，$\complement_U A=\set{4,5,6}$。

:::

## 区间

在研究 [函数](../function/func) 时常会用到 **区间** 的概念，区间就是表示一段 **连续实数** 集合的简洁形式。

我们要表示 $a\sim b$（$a<b$）这段实数，包含 **端点** $a,b$ 的是 **闭区间**，用 **中括号** 表示；不包含的是 **开区间**，用 **小括号** 表示。

根据两个端点 $a,b$ 的取值可以分为 $2\times 2=4$ 种区间：

|  区间   |         等价集合          |     名称     |
| :-----: | :-----------------------: | :----------: |
| $[a,b]$ | $\set{x\mid a\le x\le b}$ |    闭区间    |
| $(a,b)$ |    $\set{x\mid a<x<b}$    |    开区间    |
| $[a,b)$ |  $\set{x\mid a\le x<b}$   | 左闭右开区间 |
| $(a,b]$ |  $\set{x\mid a<x\le b}$   | 左开右闭区间 |

如果区间的某个端点没有限制，可以用 **无穷大** $\infty$ 表示，分为 **正无穷大** $+\infty$ 和 **负无穷大** $-\infty$。

用无穷大表示的端点都要表示为 **开区间**，因为任何数都不能等于无穷大。

|        区间         |       等价集合       |             区间             |       等价集合       |
| :-----------------: | :------------------: | :--------------------------: | :------------------: |
|    $[a,+\infty)$    | $\set{x\mid x\ge a}$ |        $(a,+\infty)$         |  $\set{x\mid x>a}$   |
|    $(-\infty,b]$    | $\set{x\mid x\le b}$ |        $(-\infty,b)$         |  $\set{x\mid x<b}$   |
| $(-\infty,+\infty)$ |     $\mathbb{R}$     | $(-\infty,c)\cup(c,+\infty)$ | $\set{x\mid x\ne c}$ |

## 计数

详见 [计数原理](counting-principle)。

### 元素个数

一个集合 $A$ 中的元素个数可以用 $\operatorname{card}(A)$ 表示，也可以用更简洁的符号 $|A|$ 表示。

$$
\operatorname{card}(A)=|A|
$$

:::tip

这里的 "card" 并不是指“卡片”，而是单词 "cardinality"（基数）的缩写。

:::

### 子集个数

如果集合 $A$ 的元素个数为 $n\ge 2$，即：

$$
|A|=n
$$

那么，集合 $A$ 有多少个子集呢？

不难发现，集合 $A$ 中的每个元素都有 $2$ 种选择：选或不选。

对于这 $n$ 个元素，每个都有 $2$ 种选择，根据 **乘法原理**，总共有 $2^n$ 种可能。

因此，集合 $A$ 有：

- $2^n$ 个子集。
- $2^n-1$ 个真子集（排除 **集合本身**）。
- $2^n-1$ 个非空子集（排除 **空集**）。
- $2^n-2$ 个非空真子集（排除 **集合本身** 和 **空集**）

### 容斥原理

对于任意两个集合 $A,B$，有：

$$
|A\cup B|=|A|+|B|-|A\cap B|
$$

要计算 $A$ 和 $B$ 并集的元素个数，通常情况下，我们会将 $|A|$ 和 $|B|$ 直接相加。

但由于交集 $A\cap B$ 中的元素被重复计算，因此需要减去 $|A\cap B|$。

:::example

在一个班级中，有 $20$ 人喜欢语文，有 $25$ 人喜欢数学，有 $10$ 人同时喜欢语文和数学。

求至少喜欢一门（语文或数学）的人有多少？

设集合 $A$ 表示喜欢语文的人，集合 $B$ 表示喜欢数学的人，则：

$$
|A|=20,|B|=25,|A\cap B|=10
$$

根据容斥原理：

$$
|A\cup B|=|A|+|B|-|A\cap B|=20+25-10=35
$$

因此至少喜欢一门的人有 $25$ 个。

:::

同理，也可以写出三个集合的容斥关系：

$$
|A\cup B\cup C|=|A|+|B|+|C|-|A\cap B|-|A\cap C|-|B\cap C|+|A\cap B\cap C|
$$

<Assets file="Inclusion-exclusion.svg" />
