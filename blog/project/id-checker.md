---
title: '身份证校验器'
date: 2024-09-20T10:34
authors: lailai
tags: [project]
---

中国公民身份号码校验码计算器。

<!-- truncate -->

## 参考资料

[公民身份号码 - 维基百科](https://zh.wikipedia.org/zh-cn/公民身份号码)

## 原理

1. 将 $18$ 位身份证号码从左至右标记：

$$
a_1,a_2,\dots,a_{18}
$$

2. 计算权重系数：

$$
w_i=2^{18-i}\bmod 11
$$

|  $i$  | $1$ | $2$ | $3$  | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ | $10$ | $11$ | $12$ | $13$ | $14$ | $15$ | $16$ | $17$ | $18$ |
| :---: | :-: | :-: | :--: | :-: | :-: | :-: | :-: | :-: | :-: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
| $w_i$ | $7$ | $9$ | $10$ | $5$ | $8$ | $4$ | $2$ | $1$ | $6$ | $3$  | $7$  | $9$  | $10$ | $5$  | $8$  | $4$  | $2$  | $1$  |

3. 计算：

$$
s=\sum_{i=1}^{17}a_i w_i
$$

4. 校验码：

$$
a_{18}=(12-s\bmod 11)\bmod 11
$$

## 代码

```cpp
#include <bits/stdc++.h>
using namespace std;

int main()
{
	string s;
	cin>>s;
	int sum=0;
	for(int i=0;i<17;i++)sum+=s[i]-'0'<<17-i;
	int num=(12-sum%11)%11;
	cout<<(char)(num==10?'X':'0'+num)<<'\n';
	return 0;
}
```
