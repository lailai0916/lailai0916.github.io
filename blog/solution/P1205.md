---
title: 'P1205 [USACO1.2] 方块转换 Transformations'
date: 2025-10-06T19:29
authors: lailai
tags: [solution, luogu]
---

<Solution pid="P1205" aid="cvuwocu5" />

<!-- truncate -->

## 解题思路

过程就不写了，根据题意模拟即可。其他几篇题解写得很详细，但代码都不优雅。

## 参考代码

### 正常版（706B）

```cpp
#include <bits/stdc++.h>
using namespace std;

using Grid=vector<string>;
Grid ref(Grid A)
{
	for(auto &s:A)reverse(s.begin(),s.end());
	return A;
}
Grid rot(Grid A)
{
	for(int i=0;i<A.size();i++)
		for(int j=i+1;j<A.size();j++)
			swap(A[i][j],A[j][i]);
	return ref(A);
}
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(nullptr);
	int n;
	cin>>n;
	Grid A(n),B(n);
	for(auto &s:A)cin>>s;
	for(auto &s:B)cin>>s;
	Grid C=ref(A);
	if(rot(A)==B)cout<<1<<'\n';
	else if(rot(rot(A))==B)cout<<2<<'\n';
	else if(rot(rot(rot(A)))==B)cout<<3<<'\n';
	else if(C==B)cout<<4<<'\n';
	else if(rot(C)==B||rot(rot(C))==B||rot(rot(rot(C)))==B)cout<<5<<'\n';
	else if(A==B)cout<<6<<'\n';
	else cout<<7<<'\n';
	return 0;
}
```

### Golf 版（391B）

```cpp
#import<bits/stdc++.h>
using namespace std;using G=vector<string>;int n,i,j,k;G f(G A){for(auto&s:A)reverse(s.begin(),s.end());return A;}G r(G&A){for(i=0;i<n;i++)for(j=i;j<n;j++)swap(A[i][j],A[j][i]);return A=f(A);}int main(){cin>>n;G A(n),B(n);for(G*x:{&A,&B})for(auto&s:*x)cin>>s;G C=f(A);for(k=1;k<4;k++)if(r(A)==B)return cout<<k,0;cout<<(C==B?4:r(C)==B||r(C)==B||r(C)==B?5:r(A)==B?6:7);}
```
